# Multi-Domain Next.js App Rules

## Core Concept
This is a Next.js app that serves two domains from a single codebase:
- ensurance.app
- onchain-agents.ai

## Project Structure
```
/                         # Project root (shared config, env files, etc)
/src
  /app                   # Main app directory (shared by both sites)
    /onchain-agents      # Entry point for onchain-agents.ai
```

## How It Works
- Both sites use the same project root and `/app` directory
- onchain-agents.ai just has a different entry point at `/app/onchain-agents`
- API routes (`/api/*`) are shared and work identically for both domains

### URLs
Development:
- ensurance.app → `localhost:3000`
- onchain-agents.ai → `localhost:3000/site-onchain-agents`

Production:
- ensurance.app → `https://ensurance.app`
- onchain-agents.ai → `https://onchain-agents.ai`

### Helpers
Use `isSite` for conditional rendering:
```typescript
import { isSite } from '@/config/routes'

function MyComponent() {
    const site = useSite()
    return (
        <div>
            {isSite(site, 'ensurance') && <div>Ensurance only</div>}
            {isSite(site, 'onchain-agents') && <div>Onchain Agents only</div>}
        </div>
    )
}
```
